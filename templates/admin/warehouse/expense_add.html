{% extends "admin/layout.html" %}

{% block title %}‚ûï –î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É{% endblock %}

{% block content %}
<div class="expense-add">
    <div class="page-header" style="margin-bottom: 2rem;">
        <a href="{{ url_for('admin_warehouse_expenses') }}" class="btn btn-sm btn-outline">‚Üê –î–æ –≤–∏—Ç—Ä–∞—Ç</a>
        <h1 style="margin: 0.5rem 0;">‚ûï –î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É</h1>
    </div>

    <div class="card" style="max-width: 600px;">
        <form method="POST">
            <div class="form-group">
                <label>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è *</label>
                <select name="category" class="form-control" required>
                    {% for cat in expense_categories %}
                    <option value="{{ cat.value }}">
                        {% if cat.value == 'shipping' %}üöö –î–æ—Å—Ç–∞–≤–∫–∞
                        {% elif cat.value == 'packaging' %}üì¶ –ü–∞–∫—É–≤–∞–Ω–Ω—è
                        {% elif cat.value == 'warehouse' %}üè≠ –°–∫–ª–∞–¥ (–æ—Ä–µ–Ω–¥–∞, –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è)
                        {% elif cat.value == 'returns' %}‚Ü©Ô∏è –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è
                        {% elif cat.value == 'salary' %}üë∑ –ó–∞—Ä–ø–ª–∞—Ç–∞
                        {% elif cat.value == 'equipment' %}üîß –û–±–ª–∞–¥–Ω–∞–Ω–Ω—è
                        {% elif cat.value == 'utilities' %}üí° –ö–æ–º—É–Ω–∞–ª—å–Ω—ñ –ø–æ—Å–ª—É–≥–∏
                        {% else %}üìã –Ü–Ω—à–µ{% endif %}
                    </option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label>–û–ø–∏—Å *</label>
                <input type="text" name="description" class="form-control" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –û–ø–ª–∞—Ç–∞ –ù–æ–≤–æ—ó –ü–æ—à—Ç–∏ –∑–∞ –ª–∏—Å—Ç–æ–ø–∞–¥" required>
            </div>

            <div class="form-row" style="display: grid; grid-template-columns: 2fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label>–°—É–º–∞ *</label>
                    <input type="number" name="amount" step="0.01" min="0" class="form-control" placeholder="0.00" required>
                </div>
                
                <div class="form-group">
                    <label>–í–∞–ª—é—Ç–∞</label>
                    <select name="currency" class="form-control">
                        <option value="UAH" selected>UAH</option>
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>–î–∞—Ç–∞ –≤–∏—Ç—Ä–∞—Ç–∏ *</label>
                <input type="date" name="expense_date" value="{{ today }}" class="form-control" required>
            </div>

            <div class="form-group">
                <label>–ù–æ–º–µ—Ä —á–µ–∫—É/–Ω–∞–∫–ª–∞–¥–Ω–æ—ó</label>
                <input type="text" name="receipt_number" class="form-control" placeholder="–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ">
            </div>

            <div class="form-group">
                <label>–ü—Ä–∏–º—ñ—Ç–∫–∏</label>
                <textarea name="notes" class="form-control" rows="3" placeholder="–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è..."></textarea>
            </div>

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <a href="{{ url_for('admin_warehouse_expenses') }}" class="btn btn-outline">–°–∫–∞—Å—É–≤–∞—Ç–∏</a>
                <button type="submit" class="btn btn-primary">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
            </div>
        </form>
    </div>
</div>

<style>
.card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.form-group { margin-bottom: 1rem; }
.form-group label { display: block; margin-bottom: 0.25rem; font-weight: 500; }
.form-control { width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; }

.btn-outline { background: transparent; border: 1px solid #ddd; color: #333; }
.btn-outline:hover { background: #f5f5f5; }
</style>
{% endblock %}
